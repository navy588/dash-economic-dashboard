name: Daily Data Update
+permissions:
+  contents: write     # 워크플로에서 커밋&푸시하려면 이 권한이 필요합니다

 on:
   schedule:
     - cron: '0 21 * * *'
   workflow_dispatch:

 jobs:
   update-data:
     runs-on: ubuntu-latest

     steps:
     - name: 코드 체크아웃
       uses: actions/checkout@v3
+      with:
+        persist-credentials: true   # GITHUB_TOKEN을 그대로 사용

     # ... (이하 생략)

     - name: 변경 커밋 & 푸시
       uses: ad-m/github-push-action@v0.6.0
       with:
-        github_token: ${{ secrets.GITHUB_TOKEN }}
-        branch: master
+        github_token: ${{ secrets.GITHUB_TOKEN }}
+        branch: main     # 기본 브랜치명으로 바꿔줍니다
         force: true
